<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>CompCor — CompCor • clever</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="CompCor — CompCor" />
<meta property="og:description" content="The CompCor algorithm (Behzadi et. al., 2007) 10.1016/j.neuroimage.2007.04.042" />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">clever</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/vignette.html">PCA leverage for outlier detection in high-dimensional data with `clever`</a>
    </li>
    <li>
      <a href="../articles/vignette_new_RD.html">PCA leverage for outlier detection in high-dimensional data with `clever`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mandymejia/clever/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>CompCor</h1>
    <small class="dont-index">Source: <a href='https://github.com/mandymejia/clever/blob/master/R/CompCor.R'><code>R/CompCor.R</code></a></small>
    <div class="hidden name"><code>CompCor.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The CompCor algorithm (Behzadi et. al., 2007) 10.1016/j.neuroimage.2007.04.042</p>
    </div>

    <div class="ref-usage sourceCode"><pre class='sourceCode r'><code><span class='fu'>CompCor</span><span class='op'>(</span>
  <span class='va'>vol</span>,
  data_ROI <span class='op'>=</span> <span class='cn'>NULL</span>,
  data <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>noise_ROI</span>,
  noise_nPC <span class='op'>=</span> <span class='fl'>5</span>,
  noise_erosion <span class='op'>=</span> <span class='fl'>0</span>
<span class='op'>)</span></code></pre></div>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>vol</th>
      <td><p>The \(I x J x K x T\) volumetric fMRI timeseries, including both
the data voxels (unless <code>data</code> is provided) and the noise voxels.</p></td>
    </tr>
    <tr>
      <th>data_ROI</th>
      <td><p>A logical mask for <code>vol</code> where <code>TRUE</code> values
indicate data voxels, from which the noise components will be regressed. Up
to one of <code>data_ROI</code> or <code>data</code> should be provided.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>A \(V x T\) data matrix from which the noise components
will be regressed. Up to one of <code>data_ROI</code> or <code>data</code> should be 
provided.</p></td>
    </tr>
    <tr>
      <th>noise_ROI</th>
      <td><p>A list of logical masks for <code>vol</code> where <code>TRUE</code> 
values indicate voxels in a certain "noise ROI" (e.g. the WM or CSF). Noise
components will be obtained separately for each noise ROI.</p></td>
    </tr>
    <tr>
      <th>noise_nPC</th>
      <td><p>A vector the same length as <code>noise_ROI</code> indicating
the number of PCs from each noise ROI to use. If this vector is a shorter
length its elements will be recycled. The values can also be between 0 and
1, in which case they will represent the minimum proportion of variance 
explained by the PCs used for each noise ROI. The smallest number of PCs
will be used to achieve this proportion of variance explained. Default:
<code>5</code>.</p></td>
    </tr>
    <tr>
      <th>noise_erosion</th>
      <td><p>The number of layers to erode from each of the 
<code>noise_ROI</code>. Default: <code>0</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with entries <code>"data"</code>, <code>"noise"</code>, <code>"noise_mask"</code>
 and <code>"noise_var"</code>.</p>
<p>If <code>data_ROI</code> or <code>data</code> was provided, the entry <code>"data"</code> will be a 
 <code>V x T</code> matrix where each row is a data voxel (if <code>data_ROI</code> was 
 provided, the voxels are in spatial order; if <code>data</code> was provided, the 
 voxels are in the same order) time series with each noise PC regressed from
 it. Otherwise, this entry will be <code>NULL</code>.</p>
<p>The entry <code>"noise"</code> is a list of <code>T</code> \(x\) <code>noise_nPC</code> PC 
 scores, one for each <code>noise_ROI</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The data are centered on each voxel timecourse's median.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by Amanda Mejia, John Muschelli.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


